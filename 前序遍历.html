<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<script>

  function TreeNode(val, left, right) {
      this.val = (val===undefined ? 0 : val)
      this.left = (left===undefined ? null : left)
      this.right = (right===undefined ? null : right)
  }

/**
 * @param {TreeNode} root
 * @return {number[]}
 */
// var preorderTraversal = function(root) {
//     // 入栈 右 -> 左
//     // 出栈 中 -> 左 -> 右
//     res = []
//     if(!root) return res
//     const stack = [root]
//     let cur = null
//     while(stack.length){
//         cur = stack.pop()
//         res.push(cur.val)
//         cur.right && stack.push(cur.right)
//         cur.left && stack.push(cur.left)
//     }
//     return res
// }; 
// 统一迭代法
// 前序遍历：中左右
// 压栈顺序：右左中
var preorderTraversal = function(root, res = []) {
    const stack = [];
    if (root) stack.push(root);
    while(stack.length) {
        const node = stack.pop();
        if(!node) {
            res.push(stack.pop().val);
            continue;
        }
        if (node.right) stack.push(node.right); // 右
        if (node.left) stack.push(node.left); // 左
        stack.push(node); // 中
        stack.push(null);
    };
    return res;
};
let root = new TreeNode(1, 
                new TreeNode(2, 
                    new TreeNode(3), 
                    new TreeNode(4)
                ), 
                new TreeNode(5)
            );
debugger
let a = preorderTraversal(root);
console.log(a)

</script>
</body>
</html>